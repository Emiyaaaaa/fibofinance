# 图标删除管理功能

## 功能概述

为图标选择器添加了完整的图标删除管理功能，包括：
- 在图标上悬停时显示删除按钮
- 删除前检查图标是否被使用
- 删除确认对话框，显示使用状态
- 国际化支持

## 技术实现

### 1. API端点

#### DELETE `/api/icons`
- 删除指定的图标
- 返回删除结果和使用状态
- 检查图标在 `finance_data` 表中的使用情况

#### GET `/api/icons/[key]/usage`
- 检查特定图标的使用情况
- 返回使用次数和状态

### 2. 组件更新

#### IconPicker组件增强
- 添加 `hoveredIcon` 状态跟踪鼠标悬停
- 添加 `deleteConfirm` 状态管理删除确认
- 实现 `handleDeleteIcon` 函数处理删除逻辑
- 实现 `checkIconUsage` 函数检查使用情况

#### DeleteConfirmModal组件
- 独立的删除确认对话框组件
- 显示删除警告和使用状态
- 区分已使用和未使用图标的提示

### 3. UI交互

#### 删除按钮
- 悬停在图标上时显示删除按钮
- 位于图标右上角的红色圆形按钮
- 使用垃圾桶图标
- 点击后触发使用检查和确认对话框

#### 删除流程
1. 用户悬停在图标上，显示删除按钮
2. 点击删除按钮
3. 系统检查图标使用情况
4. 显示确认对话框，包含使用警告
5. 用户确认后执行删除
6. 刷新图标列表
7. 如果删除的是当前选中的图标，清空选择

### 4. 安全考虑

- 删除前检查图标使用情况
- 对已使用的图标显示明确警告
- 不阻止删除已使用的图标，但明确告知风险
- 删除操作需要二次确认

## 国际化

新增的翻译键：
- `deleteIcon`: 删除图标
- `deleteIconTitle`: 删除图标标题
- `deleteIconWarning`: 删除确认提示
- `deleteIconInUse`: 图标正在使用的警告
- `deleteIconNotInUse`: 图标未使用的提示
- `confirmDelete`: 确认删除按钮
- `failedToDeleteIcon`: 删除失败提示
- `iconDeleted`: 删除成功提示

## 使用体验

1. **直观的删除操作**
   - 悬停显示，不干扰正常选择
   - 删除按钮明显但不突兀

2. **安全的删除流程**
   - 使用情况检查
   - 明确的警告信息
   - 二次确认机制

3. **智能的状态管理**
   - 删除后自动刷新列表
   - 自动清理已删除的选中状态
   - 保持UI的一致性

## 潜在改进

1. 显示具体的使用位置（哪些资产在使用）
2. 批量删除功能
3. 删除历史记录
4. 软删除选项（标记为已删除而非物理删除）